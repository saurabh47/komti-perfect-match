<ion-header>
    <ion-toolbar>
        <ion-title>Liked You</ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-list>
        <ion-grid>
            <ion-row>
                @for (profile of profiles; track profile; let i = $index) {
                <ion-col
                    size-xs="6"
                    size-sm="6"
                    size-md="4"
                    size-lg="3"
                    size-xl="3"
                >
                    <ion-item class="profile-item" lines="none">
                        <div class="cards-container">
                            <div class="card" (click)="toggleDetails(profile)">
                                <!-- Image Background -->
                                <div
                                    class="card-image"
                                    [style.backgroundImage]="
                                        'url(' + profile.photo + ')'
                                    "
                                ></div>
                                <!-- Overlay Information -->
                                <div
                                    class="card-overlay"
                                    [ngClass]="{
                                        showDetails: profile.showDetails
                                    }"
                                >
                                    <h2>
                                        {{ profile.first_name }}
                                        {{ profile.last_name }},
                                        {{ profile.age }}
                                    </h2>
                                    @if(profile.gender == 'M') {
                                    <p>
                                        <strong>Annual Income:</strong> ₹{{
                                            profile.annual_income
                                        }}
                                        LPA
                                    </p>
                                    }
                                    <p>{{ profile.education_details }}</p>
                                    @if(profile.showDetails) {
                                    <div class="card-details">
                                        <p>
                                            <strong>Hobbies:</strong>
                                            {{ profile.hobbies }}
                                        </p>
                                        <p>
                                            <strong>Occupation:</strong>
                                            {{ profile.occupation }}
                                        </p>
                                        <p>
                                            <strong>Annual Income:</strong> ₹{{
                                                profile.annual_income
                                            }}
                                            LPA
                                        </p>
                                        <p>
                                            <strong>City:</strong>
                                            {{ profile.per_city }}
                                        </p>
                                        <p>
                                            <strong>DOB:</strong>
                                            {{ profile.dob }}
                                        </p>
                                        <p>
                                            <strong>Anubandh ID: </strong
                                            ><a
                                                href="https://www.anubandh.com/marriage_bureau/profile_table.jsp?user_id={{
                                                    profile.user_id
                                                }}"
                                                target="_blank"
                                                >{{ profile.user_id }}</a
                                            >
                                        </p>
                                    </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </ion-item>
                </ion-col>
                }
            </ion-row>
        </ion-grid>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)" mode="ios">
        <ion-infinite-scroll-content> </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
